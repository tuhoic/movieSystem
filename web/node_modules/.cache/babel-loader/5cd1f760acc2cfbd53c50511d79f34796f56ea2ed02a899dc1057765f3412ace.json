{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-dfd730b6\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"title\"\n}, \"Movies\", -1 /* HOISTED */));\nconst _hoisted_2 = {\n  class: \"columns is-multiline\"\n};\nconst _hoisted_3 = {\n  class: \"card\"\n};\nconst _hoisted_4 = {\n  class: \"card-image\"\n};\nconst _hoisted_5 = {\n  class: \"image is-4by3\"\n};\nconst _hoisted_6 = [\"src\"];\nconst _hoisted_7 = {\n  class: \"card-content\"\n};\nconst _hoisted_8 = {\n  class: \"title is-4\"\n};\nconst _hoisted_9 = {\n  class: \"subtitle is-6\"\n};\nconst _hoisted_10 = {\n  class: \"content\"\n};\nconst _hoisted_11 = {\n  class: \"card-footer\"\n};\nconst _hoisted_12 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.movies, movie => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"column is-4\",\n      key: movie.id\n    }, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"figure\", _hoisted_5, [_createElementVNode(\"img\", {\n      src: movie.coverUrl,\n      alt: \"movie cover\"\n    }, null, 8 /* PROPS */, _hoisted_6)])]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"p\", _hoisted_8, _toDisplayString(movie.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_9, _toDisplayString(movie.releaseYear), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"p\", null, _toDisplayString(movie.description), 1 /* TEXT */)])]), _createElementVNode(\"footer\", _hoisted_11, [_createElementVNode(\"a\", {\n      href: \"#\",\n      class: \"card-footer-item\",\n      onClick: _withModifiers($event => _ctx.deleteMovie(movie.id), [\"prevent\"])\n    }, \"Delete\", 8 /* PROPS */, _hoisted_12)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["_createElementVNode","class","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","$setup","movies","movie","key","id","_hoisted_3","_hoisted_4","_hoisted_5","src","coverUrl","alt","_hoisted_7","_hoisted_8","_toDisplayString","title","_hoisted_9","releaseYear","_hoisted_10","description","_hoisted_11","href","onClick","_withModifiers","$event","_ctx","deleteMovie","_hoisted_12"],"sources":["D:\\graduate\\school\\project\\web\\src\\components\\UserMovie.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1 class=\"title\">Movies</h1>\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column is-4\" v-for=\"movie in movies\" :key=\"movie.id\">\r\n        <div class=\"card\">\r\n          <div class=\"card-image\">\r\n            <figure class=\"image is-4by3\">\r\n              <img :src=\"movie.coverUrl\" alt=\"movie cover\">\r\n            </figure>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <p class=\"title is-4\">{{ movie.title }}</p>\r\n            <p class=\"subtitle is-6\">{{ movie.releaseYear }}</p>\r\n            <div class=\"content\">\r\n              <p>{{ movie.description }}</p>\r\n            </div>\r\n          </div>\r\n          <footer class=\"card-footer\">\r\n            <a href=\"#\" class=\"card-footer-item\" @click.prevent=\"deleteMovie(movie.id)\">Delete</a>\r\n          </footer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\nimport { getUserMovies, deleteMovie } from '../api/movie'\r\n\r\nexport default {\r\n  setup() {\r\n    const movies = ref([])\r\n\r\n    const loadUserMovies = async () => {\r\n      movies.value = await getUserMovies()\r\n    }\r\n\r\n    const deleteUserMovie = async (movieId) => {\r\n      await deleteMovie(movieId)\r\n      await loadUserMovies()\r\n    }\r\n\r\n    onMounted(loadUserMovies)\r\n\r\n    return {\r\n      movies,\r\n      deleteUserMovie,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.title {\r\n  margin-bottom: 2rem;\r\n}\r\n</style>\r\n"],"mappings":";;gEAEIA,mBAAA,CAA6B;EAAzBC,KAAK,EAAC;AAAO,GAAC,QAAM;;EACnBA,KAAK,EAAC;AAAsB;;EAExBA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAY;;EACbA,KAAK,EAAC;AAAe;;;EAI1BA,KAAK,EAAC;AAAc;;EACpBA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAe;;EACnBA,KAAK,EAAC;AAAS;;EAIdA,KAAK,EAAC;AAAa;;;uBAjBnCC,mBAAA,CAuBM,cAtBJC,UAA6B,EAC7BH,mBAAA,CAoBM,OApBNI,UAoBM,I,kBAnBJF,mBAAA,CAkBMG,SAAA,QAAAC,WAAA,CAlBmCC,MAAA,CAAAC,MAAM,EAAfC,KAAK;yBAArCP,mBAAA,CAkBM;MAlBDD,KAAK,EAAC,aAAa;MAA0BS,GAAG,EAAED,KAAK,CAACE;QAC3DX,mBAAA,CAgBM,OAhBNY,UAgBM,GAfJZ,mBAAA,CAIM,OAJNa,UAIM,GAHJb,mBAAA,CAES,UAFTc,UAES,GADPd,mBAAA,CAA6C;MAAvCe,GAAG,EAAEN,KAAK,CAACO,QAAQ;MAAEC,GAAG,EAAC;6CAGnCjB,mBAAA,CAMM,OANNkB,UAMM,GALJlB,mBAAA,CAA2C,KAA3CmB,UAA2C,EAAAC,gBAAA,CAAlBX,KAAK,CAACY,KAAK,kBACpCrB,mBAAA,CAAoD,KAApDsB,UAAoD,EAAAF,gBAAA,CAAxBX,KAAK,CAACc,WAAW,kBAC7CvB,mBAAA,CAEM,OAFNwB,WAEM,GADJxB,mBAAA,CAA8B,WAAAoB,gBAAA,CAAxBX,KAAK,CAACgB,WAAW,iB,KAG3BzB,mBAAA,CAES,UAFT0B,WAES,GADP1B,mBAAA,CAAsF;MAAnF2B,IAAI,EAAC,GAAG;MAAC1B,KAAK,EAAC,kBAAkB;MAAE2B,OAAK,EAAAC,cAAA,CAAAC,MAAA,IAAUC,IAAA,CAAAC,WAAW,CAACvB,KAAK,CAACE,EAAE;OAAG,QAAM,iBAAAsB,WAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}