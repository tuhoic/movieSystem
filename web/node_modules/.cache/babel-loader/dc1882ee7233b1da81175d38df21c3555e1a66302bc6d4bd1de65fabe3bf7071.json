{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-7bf3755a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"register-container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"用户注册\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"username\"\n}, \"用户名\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \"邮箱\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  key: 0,\n  class: \"error-message\"\n};\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"密码\", -1 /* HOISTED */));\nconst _hoisted_10 = {\n  class: \"form-group\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"confirmPassword\"\n}, \"确认密码\", -1 /* HOISTED */));\nconst _hoisted_12 = {\n  key: 0,\n  class: \"error-message\"\n};\nconst _hoisted_13 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $setup.handleSubmit && $setup.handleSubmit(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"username\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.username = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.username]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.email = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.email]]), _ctx.emailError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _toDisplayString(_ctx.emailError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.password = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.password]])]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"confirmPassword\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.confirmPassword = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.confirmPassword]]), _ctx.passwordError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, _toDisplayString(_ctx.passwordError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: _ctx.isSubmitting\n  }, _toDisplayString(_ctx.isSubmitting ? '提交中...' : '注册'), 9 /* TEXT, PROPS */, _hoisted_13)], 32 /* HYDRATE_EVENTS */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$setup","handleSubmit","_hoisted_3","_hoisted_4","type","id","_ctx","username","$event","required","_hoisted_5","_hoisted_6","email","emailError","_hoisted_7","_toDisplayString","_hoisted_8","_hoisted_9","password","_hoisted_10","_hoisted_11","confirmPassword","passwordError","_hoisted_12","disabled","isSubmitting","_hoisted_13"],"sources":["D:\\graduate\\school\\project\\web\\src\\components\\Register.vue"],"sourcesContent":["<template>\r\n  <div class=\"register-container\">\r\n    <h2>用户注册</h2>\r\n    <form @submit.prevent=\"handleSubmit\">\r\n      <div class=\"form-group\">\r\n        <label for=\"username\">用户名</label>\r\n        <input type=\"text\" id=\"username\" v-model=\"username\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"email\">邮箱</label>\r\n        <input type=\"email\" id=\"email\" v-model=\"email\" required>\r\n        <div v-if=\"emailError\" class=\"error-message\">{{ emailError }}</div>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"password\">密码</label>\r\n        <input type=\"password\" id=\"password\" v-model=\"password\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"confirmPassword\">确认密码</label>\r\n        <input type=\"password\" id=\"confirmPassword\" v-model=\"confirmPassword\" required>\r\n        <div v-if=\"passwordError\" class=\"error-message\">{{ passwordError }}</div>\r\n      </div>\r\n      <button type=\"submit\" :disabled=\"isSubmitting\">{{ isSubmitting ? '提交中...' : '注册' }}</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from 'vue';\r\nimport { register } from '@/api/user';\r\n\r\nexport default {\r\n  name: 'RegisterPage',\r\n  setup() {\r\n    const state = reactive({\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      emailError: '',\r\n      passwordError: '',\r\n      isSubmitting: false,\r\n    });\r\n\r\n    const handleSubmit = async () => {\r\n      console.log(state.username);\r\n      console.log(state.email);\r\n      console.log(state.password);\r\n      console.log(state.confirmPassword);\r\n\r\n      // if (!state.username || !state.email || !state.password || !state.confirmPassword) {\r\n      //   alert('所有字段均为必填');\r\n      //   return;\r\n      // }\r\n\r\n      if (state.password !== state.confirmPassword) {\r\n        state.passwordError = '两次输入的密码不一致';\r\n        return;\r\n      }\r\n\r\n      state.emailError = '';\r\n\r\n      const response = await register(state.username, state.email, state.password);\r\n\r\n      if (response.status === 'success') {\r\n        alert('注册成功，请前往邮箱进行验证');\r\n      } else if (response.status === 'error') {\r\n        state.emailError = response.message;\r\n      }\r\n    };\r\n\r\n    return {\r\n      ...state,\r\n      handleSubmit,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.register-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-top: 20px;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 400px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n}\r\n\r\ninput[type=\"text\"],\r\ninput[type=\"email\"],\r\ninput[type=\"password\"] {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n}\r\n\r\nbutton[type=\"submit\"] {\r\n  margin-top: 20px;\r\n  padding: 10px;\r\n  background-color: #2196f3;\r\n  border: none;\r\n  border-radius: 5px;\r\n  color: #fff;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton[type=\"submit\"]:disabled {\r\n  background-color: #ccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  font-size: 0.8rem;\r\n  margin-top: 5px;\r\n}\r\n</style>"],"mappings":";;;EACOA,KAAK,EAAC;AAAoB;gEAC7BC,mBAAA,CAAa,YAAT,MAAI;;EAEDD,KAAK,EAAC;AAAY;gEACrBC,mBAAA,CAAiC;EAA1BC,GAAG,EAAC;AAAU,GAAC,KAAG;;EAGtBF,KAAK,EAAC;AAAY;gEACrBC,mBAAA,CAA6B;EAAtBC,GAAG,EAAC;AAAO,GAAC,IAAE;;;EAEEF,KAAK,EAAC;;;EAE1BA,KAAK,EAAC;AAAY;gEACrBC,mBAAA,CAAgC;EAAzBC,GAAG,EAAC;AAAU,GAAC,IAAE;;EAGrBF,KAAK,EAAC;AAAY;iEACrBC,mBAAA,CAAyC;EAAlCC,GAAG,EAAC;AAAiB,GAAC,MAAI;;;EAEPF,KAAK,EAAC;;;;uBAnBtCG,mBAAA,CAuBM,OAvBNC,UAuBM,GAtBJC,UAAa,EACbJ,mBAAA,CAoBO;IApBAK,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,MAAA,CAAAC,YAAA,IAAAD,MAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;MACjCR,mBAAA,CAGM,OAHNW,UAGM,GAFJC,UAAiC,E,gBACjCZ,mBAAA,CAA6D;IAAtDa,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,UAAU;+DAAUC,IAAA,CAAAC,QAAQ,GAAAC,MAAA;IAAEC,QAAQ,EAAR;iDAAVH,IAAA,CAAAC,QAAQ,E,KAEpDhB,mBAAA,CAIM,OAJNmB,UAIM,GAHJC,UAA6B,E,gBAC7BpB,mBAAA,CAAwD;IAAjDa,IAAI,EAAC,OAAO;IAACC,EAAE,EAAC,OAAO;+DAAUC,IAAA,CAAAM,KAAK,GAAAJ,MAAA;IAAEC,QAAQ,EAAR;iDAAPH,IAAA,CAAAM,KAAK,E,GAClCN,IAAA,CAAAO,UAAU,I,cAArBpB,mBAAA,CAAmE,OAAnEqB,UAAmE,EAAAC,gBAAA,CAAnBT,IAAA,CAAAO,UAAU,oB,qCAE5DtB,mBAAA,CAGM,OAHNyB,UAGM,GAFJC,UAAgC,E,gBAChC1B,mBAAA,CAAiE;IAA1Da,IAAI,EAAC,UAAU;IAACC,EAAE,EAAC,UAAU;+DAAUC,IAAA,CAAAY,QAAQ,GAAAV,MAAA;IAAEC,QAAQ,EAAR;iDAAVH,IAAA,CAAAY,QAAQ,E,KAExD3B,mBAAA,CAIM,OAJN4B,WAIM,GAHJC,WAAyC,E,gBACzC7B,mBAAA,CAA+E;IAAxEa,IAAI,EAAC,UAAU;IAACC,EAAE,EAAC,iBAAiB;+DAAUC,IAAA,CAAAe,eAAe,GAAAb,MAAA;IAAEC,QAAQ,EAAR;iDAAjBH,IAAA,CAAAe,eAAe,E,GACzDf,IAAA,CAAAgB,aAAa,I,cAAxB7B,mBAAA,CAAyE,OAAzE8B,WAAyE,EAAAR,gBAAA,CAAtBT,IAAA,CAAAgB,aAAa,oB,qCAElE/B,mBAAA,CAA4F;IAApFa,IAAI,EAAC,QAAQ;IAAEoB,QAAQ,EAAElB,IAAA,CAAAmB;sBAAiBnB,IAAA,CAAAmB,YAAY,0CAAAC,WAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}