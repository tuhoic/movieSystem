{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport axios from \"axios\";\nimport ElementPlus from 'element-plus';\nimport 'element-plus/dist/index.css';\naxios.defaults.baseURL = 'http://localhost:8000';\nconst app = createApp(App);\napp.use(ElementPlus);\n// 拦截器，统一处理后端返回值\napp.config.globalProperties.$http = axios.create({\n  baseURL: process.env.VUE_APP_API_BASE_URL\n});\napp.config.globalProperties.$http.interceptors.response.use(response => {\n  const res = response.data;\n  if (res.code !== 200) {\n    // 错误处理\n    return Promise.reject(new Error(res.msg || 'Error'));\n  } else {\n    return res;\n  }\n}, error => {\n  return Promise.reject(error);\n});\napp.use(router).mount('#app');","map":{"version":3,"names":["createApp","App","router","axios","ElementPlus","defaults","baseURL","app","use","config","globalProperties","$http","create","process","env","VUE_APP_API_BASE_URL","interceptors","response","res","data","code","Promise","reject","Error","msg","error","mount"],"sources":["D:/graduate/project/web/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport axios from \"axios\";\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\n\naxios.defaults.baseURL = 'http://localhost:8000'\n\nconst app = createApp(App)\napp.use(ElementPlus)\n// 拦截器，统一处理后端返回值\napp.config.globalProperties.$http = axios.create({\n    baseURL: process.env.VUE_APP_API_BASE_URL,\n})\n\napp.config.globalProperties.$http.interceptors.response.use(\n    (response) => {\n        const res = response.data\n        if (res.code !== 200) {\n            // 错误处理\n            return Promise.reject(new Error(res.msg || 'Error'))\n        } else {\n            return res\n        }\n    },\n    (error) => {\n        return Promise.reject(error)\n    }\n)\n\napp.use(router).mount('#app')\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,KAAK;AAC/B,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,cAAc;AACtC,OAAO,6BAA6B;AAEpCD,KAAK,CAACE,QAAQ,CAACC,OAAO,GAAG,uBAAuB;AAEhD,MAAMC,GAAG,GAAGP,SAAS,CAACC,GAAG,CAAC;AAC1BM,GAAG,CAACC,GAAG,CAACJ,WAAW,CAAC;AACpB;AACAG,GAAG,CAACE,MAAM,CAACC,gBAAgB,CAACC,KAAK,GAAGR,KAAK,CAACS,MAAM,CAAC;EAC7CN,OAAO,EAAEO,OAAO,CAACC,GAAG,CAACC;AACzB,CAAC,CAAC;AAEFR,GAAG,CAACE,MAAM,CAACC,gBAAgB,CAACC,KAAK,CAACK,YAAY,CAACC,QAAQ,CAACT,GAAG,CACtDS,QAAQ,IAAK;EACV,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAI;EACzB,IAAID,GAAG,CAACE,IAAI,KAAK,GAAG,EAAE;IAClB;IACA,OAAOC,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAACL,GAAG,CAACM,GAAG,IAAI,OAAO,CAAC,CAAC;EACxD,CAAC,MAAM;IACH,OAAON,GAAG;EACd;AACJ,CAAC,EACAO,KAAK,IAAK;EACP,OAAOJ,OAAO,CAACC,MAAM,CAACG,KAAK,CAAC;AAChC,CAAC,CACJ;AAEDlB,GAAG,CAACC,GAAG,CAACN,MAAM,CAAC,CAACwB,KAAK,CAAC,MAAM,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}