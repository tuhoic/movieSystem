{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport { login } from '@/api/user';\nimport { useRouter } from 'vue-router';\nexport default {\n  name: 'LoginPage',\n  setup() {\n    const username = ref('');\n    const password = ref('');\n    const router = useRouter();\n    const submitForm = async () => {\n      try {\n        const response = await login(username.value, password.value);\n        const {\n          data\n        } = response;\n        localStorage.setItem('token', data.token);\n        await router.push('/');\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    return {\n      username,\n      password,\n      submitForm\n    };\n  }\n};","map":{"version":3,"names":["ref","login","useRouter","name","setup","username","password","router","submitForm","response","value","data","localStorage","setItem","token","push","error","console"],"sources":["D:\\graduate\\school\\project\\web\\src\\components\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <h2>用户登录</h2>\r\n    <form class=\"login-form\" @submit.prevent=\"handleSubmit\">\r\n      <div class=\"form-group\">\r\n        <label for=\"username\">用户名</label>\r\n        <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            v-model.trim=\"username\"\r\n            required\r\n            autofocus\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"password\">密码</label>\r\n        <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            v-model.trim=\"password\"\r\n            required\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <button type=\"submit\" class=\"btn-primary\">登录</button>\r\n      </div>\r\n    </form>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport { login } from '@/api/user'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'LoginPage',\r\n\r\n  setup() {\r\n    const username = ref('')\r\n    const password = ref('')\r\n    const router = useRouter()\r\n\r\n    const submitForm = async () => {\r\n      try {\r\n        const response = await login(username.value, password.value)\r\n        const { data } = response\r\n        localStorage.setItem('token', data.token)\r\n        await router.push('/')\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    }\r\n\r\n    return {\r\n      username,\r\n      password,\r\n      submitForm\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";AAkCA,SAASA,GAAE,QAAS,KAAI;AACxB,SAASC,KAAI,QAAS,YAAW;AACjC,SAASC,SAAQ,QAAS,YAAW;AAErC,eAAe;EACbC,IAAI,EAAE,WAAW;EAEjBC,KAAKA,CAAA,EAAG;IACN,MAAMC,QAAO,GAAIL,GAAG,CAAC,EAAE;IACvB,MAAMM,QAAO,GAAIN,GAAG,CAAC,EAAE;IACvB,MAAMO,MAAK,GAAIL,SAAS,EAAC;IAEzB,MAAMM,UAAS,GAAI,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMR,KAAK,CAACI,QAAQ,CAACK,KAAK,EAAEJ,QAAQ,CAACI,KAAK;QAC3D,MAAM;UAAEC;QAAK,IAAIF,QAAO;QACxBG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACG,KAAK;QACxC,MAAMP,MAAM,CAACQ,IAAI,CAAC,GAAG;MACvB,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK;MACrB;IACF;IAEA,OAAO;MACLX,QAAQ;MACRC,QAAQ;MACRE;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}