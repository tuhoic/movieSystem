{"ast":null,"code":"import { reactive } from 'vue';\nimport { login } from '../api/auth';\nexport default {\n  name: 'Login',\n  setup() {\n    const state = reactive({\n      email: '',\n      password: '',\n      error: ''\n    });\n    const handleResponse = response => {\n      if (response.status === 200) {\n        // 保存token到本地存储\n        localStorage.setItem('token', response.data.token);\n        // 重定向到首页\n        location.href = '/';\n      } else {\n        state.error = response.data.message;\n      }\n    };\n    const login = () => {\n      login(state.email, state.password).then(handleResponse).catch(error => {\n        state.error = error.message;\n      });\n    };\n    return {\n      email: state.email,\n      password: state.password,\n      error: state.error,\n      login\n    };\n  }\n};","map":{"version":3,"names":["reactive","login","name","setup","state","email","password","error","handleResponse","response","status","localStorage","setItem","data","token","location","href","message","then","catch"],"sources":["D:\\graduate\\school\\project\\web\\src\\components\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <h2>用户登录</h2>\r\n    <form @submit.prevent=\"login\">\r\n      <label>\r\n        邮箱:\r\n        <input type=\"email\" v-model.trim=\"email\" required>\r\n      </label>\r\n      <label>\r\n        密码:\r\n        <input type=\"password\" v-model.trim=\"password\" required>\r\n      </label>\r\n      <button type=\"submit\">登录</button>\r\n      <div v-if=\"error\" class=\"error\">{{ error }}</div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from 'vue'\r\nimport { login } from '../api/auth'\r\n\r\nexport default {\r\n  name: 'Login',\r\n\r\n  setup() {\r\n    const state = reactive({\r\n      email: '',\r\n      password: '',\r\n      error: ''\r\n    })\r\n\r\n    const handleResponse = (response) => {\r\n      if (response.status === 200) {\r\n        // 保存token到本地存储\r\n        localStorage.setItem('token', response.data.token)\r\n        // 重定向到首页\r\n        location.href = '/'\r\n      } else {\r\n        state.error = response.data.message\r\n      }\r\n    }\r\n\r\n    const login = () => {\r\n      login(state.email, state.password)\r\n          .then(handleResponse)\r\n          .catch(error => {\r\n            state.error = error.message\r\n          })\r\n    }\r\n\r\n    return {\r\n      email: state.email,\r\n      password: state.password,\r\n      error: state.error,\r\n      login\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n  margin-top: 32px;\r\n}\r\n\r\nlabel {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  font-size: 1.2rem;\r\n}\r\n\r\ninput[type=\"email\"],\r\ninput[type=\"password\"] {\r\n  padding: 8px;\r\n  font-size: 1rem;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  width: 300px;\r\n  max-width: 100%;\r\n}\r\n\r\nbutton[type=\"submit\"] {\r\n  padding: 8px 16px;\r\n  background-color: #007bff;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n}\r\n\r\nbutton[type=\"submit\"]:hover {\r\n  background-color: #0069d9;\r\n}\r\n\r\n.error {\r\n  color: red;\r\n  font-size: 1.2rem;\r\n  margin-top: 16px;\r\n}\r\n</style>\r\n"],"mappings":"AAmBA,SAASA,QAAO,QAAS,KAAI;AAC7B,SAASC,KAAI,QAAS,aAAY;AAElC,eAAe;EACbC,IAAI,EAAE,OAAO;EAEbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIJ,QAAQ,CAAC;MACrBK,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE;IACT,CAAC;IAED,MAAMC,cAAa,GAAKC,QAAQ,IAAK;MACnC,IAAIA,QAAQ,CAACC,MAAK,KAAM,GAAG,EAAE;QAC3B;QACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,QAAQ,CAACI,IAAI,CAACC,KAAK;QACjD;QACAC,QAAQ,CAACC,IAAG,GAAI,GAAE;MACpB,OAAO;QACLZ,KAAK,CAACG,KAAI,GAAIE,QAAQ,CAACI,IAAI,CAACI,OAAM;MACpC;IACF;IAEA,MAAMhB,KAAI,GAAIA,CAAA,KAAM;MAClBA,KAAK,CAACG,KAAK,CAACC,KAAK,EAAED,KAAK,CAACE,QAAQ,EAC5BY,IAAI,CAACV,cAAc,EACnBW,KAAK,CAACZ,KAAI,IAAK;QACdH,KAAK,CAACG,KAAI,GAAIA,KAAK,CAACU,OAAM;MAC5B,CAAC;IACP;IAEA,OAAO;MACLZ,KAAK,EAAED,KAAK,CAACC,KAAK;MAClBC,QAAQ,EAAEF,KAAK,CAACE,QAAQ;MACxBC,KAAK,EAAEH,KAAK,CAACG,KAAK;MAClBN;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}