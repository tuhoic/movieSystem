{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport axios from \"axios\";\nconst app = createApp(App);\naxios.defaults.baseURL = 'http://localhost:8000';\n\n// 拦截器，统一处理后端返回值\napp.config.globalProperties.$http = axios.create({\n  baseURL: process.env.VUE_APP_API_BASE_URL\n});\napp.config.globalProperties.$http.interceptors.response.use(response => {\n  const res = response.data;\n  if (res.code !== 200) {\n    // 错误处理\n    return Promise.reject(new Error(res.msg || 'Error'));\n  } else {\n    return res;\n  }\n}, error => {\n  return Promise.reject(error);\n});\napp.use(router).mount('#app');","map":{"version":3,"names":["createApp","App","router","axios","app","defaults","baseURL","config","globalProperties","$http","create","process","env","VUE_APP_API_BASE_URL","interceptors","response","use","res","data","code","Promise","reject","Error","msg","error","mount"],"sources":["D:/graduate/school/project/web/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\n\nimport axios from \"axios\";\n\nconst app = createApp(App)\naxios.defaults.baseURL = 'http://localhost:8000'\n\n// 拦截器，统一处理后端返回值\napp.config.globalProperties.$http = axios.create({\n    baseURL: process.env.VUE_APP_API_BASE_URL,\n})\n\napp.config.globalProperties.$http.interceptors.response.use(\n    (response) => {\n        const res = response.data\n        if (res.code !== 200) {\n            // 错误处理\n            return Promise.reject(new Error(res.msg || 'Error'))\n        } else {\n            return res\n        }\n    },\n    (error) => {\n        return Promise.reject(error)\n    }\n)\n\napp.use(router).mount('#app')\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,KAAK;AAC/B,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAE7B,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGJ,SAAS,CAACC,GAAG,CAAC;AAC1BE,KAAK,CAACE,QAAQ,CAACC,OAAO,GAAG,uBAAuB;;AAEhD;AACAF,GAAG,CAACG,MAAM,CAACC,gBAAgB,CAACC,KAAK,GAAGN,KAAK,CAACO,MAAM,CAAC;EAC7CJ,OAAO,EAAEK,OAAO,CAACC,GAAG,CAACC;AACzB,CAAC,CAAC;AAEFT,GAAG,CAACG,MAAM,CAACC,gBAAgB,CAACC,KAAK,CAACK,YAAY,CAACC,QAAQ,CAACC,GAAG,CACtDD,QAAQ,IAAK;EACV,MAAME,GAAG,GAAGF,QAAQ,CAACG,IAAI;EACzB,IAAID,GAAG,CAACE,IAAI,KAAK,GAAG,EAAE;IAClB;IACA,OAAOC,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAACL,GAAG,CAACM,GAAG,IAAI,OAAO,CAAC,CAAC;EACxD,CAAC,MAAM;IACH,OAAON,GAAG;EACd;AACJ,CAAC,EACAO,KAAK,IAAK;EACP,OAAOJ,OAAO,CAACC,MAAM,CAACG,KAAK,CAAC;AAChC,CAAC,CACJ;AAEDpB,GAAG,CAACY,GAAG,CAACd,MAAM,CAAC,CAACuB,KAAK,CAAC,MAAM,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}