{"ast":null,"code":"import { reactive } from 'vue';\nimport { getComments, deleteComment } from '@/api/comment';\nexport default {\n  name: 'CommentList',\n  setup() {\n    const state = reactive({\n      comments: []\n    });\n    const fetchData = async () => {\n      const res = await getComments();\n      if (res.data.code === 200) {\n        state.comments = res.data.data;\n      }\n    };\n    const removeComment = async id => {\n      const res = await deleteComment(id);\n      if (res.data.code === 200) {\n        fetchData();\n      }\n    };\n    fetchData();\n    return {\n      comments: state.comments,\n      removeComment\n    };\n  }\n};","map":{"version":3,"names":["reactive","getComments","deleteComment","name","setup","state","comments","fetchData","res","data","code","removeComment","id"],"sources":["D:\\graduate\\project\\web\\src\\components\\CommentList.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1 class=\"title\">All Comments</h1>\r\n    <table class=\"table is-fullwidth\">\r\n      <thead>\r\n      <tr>\r\n        <th>ID</th>\r\n        <th>User ID</th>\r\n        <th>Movie ID</th>\r\n        <th>Content</th>\r\n        <th>Action</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr v-for=\"comment in comments\" :key=\"comment.id\">\r\n        <td>{{ comment.id }}</td>\r\n        <td>{{ comment.user_id }}</td>\r\n        <td>{{ comment.movie_id }}</td>\r\n        <td>{{ comment.content }}</td>\r\n        <td>\r\n          <button class=\"button is-danger is-small\" @click=\"removeComment(comment.id)\">Delete</button>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from 'vue'\r\nimport { getComments, deleteComment } from '@/api/comment'\r\n\r\nexport default {\r\n  name: 'CommentList',\r\n  setup() {\r\n    const state = reactive({\r\n      comments: []\r\n    })\r\n\r\n    const fetchData = async () => {\r\n      const res = await getComments()\r\n      if (res.data.code === 200) {\r\n        state.comments = res.data.data\r\n      }\r\n    }\r\n\r\n    const removeComment = async (id) => {\r\n      const res = await deleteComment(id)\r\n      if (res.data.code === 200) {\r\n        fetchData()\r\n      }\r\n    }\r\n\r\n    fetchData()\r\n\r\n    return {\r\n      comments: state.comments,\r\n      removeComment\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.title {\r\n  margin-top: 2rem;\r\n  margin-bottom: 2rem;\r\n  text-align: center;\r\n}\r\n</style>\r\n"],"mappings":"AA6BA,SAASA,QAAO,QAAS,KAAI;AAC7B,SAASC,WAAW,EAAEC,aAAY,QAAS,eAAc;AAEzD,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIL,QAAQ,CAAC;MACrBM,QAAQ,EAAE;IACZ,CAAC;IAED,MAAMC,SAAQ,GAAI,MAAAA,CAAA,KAAY;MAC5B,MAAMC,GAAE,GAAI,MAAMP,WAAW,EAAC;MAC9B,IAAIO,GAAG,CAACC,IAAI,CAACC,IAAG,KAAM,GAAG,EAAE;QACzBL,KAAK,CAACC,QAAO,GAAIE,GAAG,CAACC,IAAI,CAACA,IAAG;MAC/B;IACF;IAEA,MAAME,aAAY,GAAI,MAAOC,EAAE,IAAK;MAClC,MAAMJ,GAAE,GAAI,MAAMN,aAAa,CAACU,EAAE;MAClC,IAAIJ,GAAG,CAACC,IAAI,CAACC,IAAG,KAAM,GAAG,EAAE;QACzBH,SAAS,EAAC;MACZ;IACF;IAEAA,SAAS,EAAC;IAEV,OAAO;MACLD,QAAQ,EAAED,KAAK,CAACC,QAAQ;MACxBK;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}